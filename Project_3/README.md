# Project 3
In this project we simulate particles in a Penning trap. The programs will have
different uses, depending on the different problems we meet.

### Build
---
`
testing_single.cpp
`

**Compile**:
```
g++ testing_single.cpp src/particle.cpp src/penning_trap.cpp src/analytical.cpp
-std=c++11 -I include -o testing_single.exe -larmadillo
```

**Run**:
```
./testing_single.exe > data_test_single.txt
```
---

`testing_double.cpp`

**Compile**:
```
g++ testing_double.cpp src/particle.cpp src/penning_trap.cpp src/analytical.cpp
-std=c++11 -I include -o testing_double.exe -larmadillo
```

**Run**:
```
./testing_double.exe > data_test_double.txt
```
---

`rel_error.cpp`

**Compile**:
```
g++ rel_error.cpp src/particle.cpp src/penning_trap.cpp src/analytical.cpp
-std=c++11 -I include -o rel_error.exe -larmadillo
```

**Run**:
```
./rel_error.exe
```
---

`main.cpp`

**Compile**:
```
g++ -O2 main.cpp src/particle.cpp src/penning_trap_2.cpp -std=c++11 -I include
-o main.exe -larmadillo
```

**Run**:
```
./main.exe
```
---

### Makefile
A `makefile` is included, and can be used by `make all_single`,
`make all_double`, `make all_relerr` and `make all` in the terminal to run the same commands as
stated above.

# Programs
The `testing_single.cpp` program does test runs on a single particle and
compares the result to the analytical solution defined in the
source file `analytical.cpp`. Visualization can be seen in plots generated in
the file `plot_single.py`.

In `testing_double.cpp` we run simulations on two particles. Their trajectories
are visualized by the program `plot_double.py`. This also includes motion in
the phase spaces. In addition, the files `animate_double.py` and `animate_3d.py`
will make animations of the particles trajectories.

For error analysis, the program `rel_error.cpp` is used. This will generate a
`.txt` file, which the program `rel_err.py` uses to show the relative error at
each time step for both the *Runge-Kutta of 4'th order* and *Forward Euler*
methods. Their definitions are found in the source file `penning_trap.cpp`.

Finally, the simulation is done on 50 particles, randomly placed in the trap.
The program `main.cpp` uses a time dependent electric potential and calculates
the fraction of particles still trapped after 500 $\mu s$. The resulting plots
are generated by the program `particles_remaining.py`.
